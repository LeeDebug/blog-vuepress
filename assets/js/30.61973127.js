(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{584:function(s,a,t){"use strict";t.r(a);var e=t(5),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("随着项目与能力的提升与扩展，一台电脑上同时用着多个git仓库的情况越来越普遍，所以我们需要创建多个ssh key来对应不同的账号。本文以github为例")])]),s._v(" "),t("h1",{attrs:{id:"本地配置ssh秘钥和公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地配置ssh秘钥和公钥"}},[s._v("#")]),s._v(" 本地配置ssh秘钥和公钥")]),s._v(" "),t("h2",{attrs:{id:"进入到ssh文件夹下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进入到ssh文件夹下"}},[s._v("#")]),s._v(" 进入到ssh文件夹下")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"生成一个ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成一个ssh-key"}},[s._v("#")]),s._v(" 生成一个ssh-key")]),s._v(" "),t("p",[s._v("引号内填写你github对应的邮箱")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ ssh-keygen -t rsa -b "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" -C "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your email"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果你之前mac上创建过ssh-key，在"),t("code",[s._v(".ssh")]),s._v("文件夹下会有"),t("code",[s._v("id_rsa")]),s._v("和"),t("code",[s._v("id_rsa.pub")]),s._v("两个文件，分别为秘钥和公钥；当再次创建时，会有如下提示：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Generating public/private rsa key pair.\nEnter "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/Users/xxx/.ssh/id_rsa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果想覆盖之前的文件直接回车即可；如果想创建新的ssh-key，则需要在此处输入新的名称，如"),t("code",[s._v("id_rsa_github")]),s._v("，回车后会提示你下次使用此ssh-key时是否需要密码，如果是个人电脑，直接回车即可（如果需要，设置便可）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Enter passphrase "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nEnter same passphrase again:\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("设置完密码后，会提示你ssh-key设置成功")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("our identification has been saved "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" id_rsa_github.\nYour public key has been saved "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" id_rsa_github.pub.\nThe key fingerprint is:\nSHA256: hash值 你的邮箱\nThe key's randomart image is:\n+---"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RSA "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("----+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        .@/0+ o  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("o")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("+0*O o "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        .o"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".*** "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         o.o B "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        @ + + * "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       o + + o "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        o "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" o    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SHA256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("-----+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("查看"),t("code",[s._v(".ssh")]),s._v("文件夹下的新文件，则会看到刚才新生成的"),t("code",[s._v("id_rsa_github")]),s._v("秘钥和"),t("code",[s._v("id_rsa_github.pub")]),s._v("公钥")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nid_rsa\nid_rsa.pub\nid_rsa_github\nid_rsa_github.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"将ssh-key添加到ssh-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将ssh-key添加到ssh-agent"}},[s._v("#")]),s._v(" 将ssh-key添加到ssh-agent")]),s._v(" "),t("p",[s._v("因为本地默认只读"),t("code",[s._v("id_rsa")]),s._v("，我们想要使用新的秘钥对则需要把新添加的ssh-key添加到ssh-agent")]),s._v(" "),t("p",[s._v("首先，查看ssh agent所有密钥对（如果有以下提示，则表示从未添加过）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ ssh-add -l\nThe agent has no identities.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("将新的ssh-key添加到ssh agent")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ ssh-add id_rsa_github\nIdentity added: id_rsa_github "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id_rsa_github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("此时再次查看ssh agent")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ ssh-add -l\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" SHA256: hash值 id_rsa_github "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RSA"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h1",{attrs:{id:"配置github的ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置github的ssh-key"}},[s._v("#")]),s._v(" 配置github的ssh-key")]),s._v(" "),t("p",[s._v("首先查看我们刚配置好的ssh-key的公钥，即以"),t("code",[s._v("*.pub")]),s._v("为后缀名的文件。复制整个文件的内容，即公钥信息")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" id_rsa_github.pub\nssh-rsa 公钥 你的邮箱\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("登录github后，在右上角的头像下拉列表中选择"),t("code",[s._v("Settings")]),s._v("选项，在左侧菜单中选择"),t("code",[s._v("SSH and GPG keys")]),s._v("，即可看到当前的SSH Keys，点击右上角绿色的"),t("code",[s._v("New SSH Key")]),s._v("按钮，在"),t("code",[s._v("Key")]),s._v("下方的文本框中，粘贴你的公钥信息，会默认以你的邮箱作为"),t("code",[s._v("title")]),s._v("（也可自行更改），点击下方的"),t("code",[s._v("Add SSH Key")]),s._v("即可。步骤如下图所示")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/LeeDebug/PicGo/img/20201211234542.png",alt:"github的ssh-key"}})]),s._v(" "),t("h1",{attrs:{id:"测试连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试连接"}},[s._v("#")]),s._v(" 测试连接")]),s._v(" "),t("p",[s._v("回到自己的项目仓库下"),t("code",[s._v("git fetch")]),s._v("；或打开控制台，输入以下命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("→ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com\nHi LeeDebug"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" You've successfully authenticated, but GitHub does not provide shell access.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("到此，你的ssh-key已经可以正常使用，你可以使用ssh的方式去clone项目了")]),s._v(" "),t("h1",{attrs:{id:"祝君无bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#祝君无bug"}},[s._v("#")]),s._v(" 祝君无Bug~")])])}),[],!1,null,null,null);a.default=n.exports}}]);